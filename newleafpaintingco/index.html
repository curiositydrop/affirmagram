<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>New Leaf Painting Co.</title>
  <meta name="description" content="New Leaf Painting Co. - professional interior painting that treats your home with care and craftsmanship." />

  <!-- Color System -->
  <style>
    :root{
      --primary: #0B6831; /* Forest Green */
      --primary-2: #1A7B42; /* Accent/Hover */
      --background: #F8F8F8;
      --text: #1C1C1C;
      --muted: #6B6B6B;
      --max-width: 1000px;
      --radius: 8px;
      --shadow: 0 6px 18px rgba(10,10,10,0.08);
      --glass: rgba(255,255,255,0.7);
      --card-bg: #fff;
    }

    /* Reset & base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color:var(--text);
      background: linear-gradient(180deg,var(--background), #ffffff);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.45;
      padding-top: 24px;
      padding-bottom: 120px; /* room for floating btn */
    }

    a{color:inherit;text-decoration:none}

    /* Site container */
    .site {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 16px;
    }

    /* Header: logo centered, nav below */
    header {
      text-align: center;
      margin-bottom: 18px;
      position: sticky;
      top: 0;
      z-index: 60;
      background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(255,255,255,0.95));
      backdrop-filter: blur(4px);
      box-shadow: 0 1px 0 rgba(0,0,0,0.03);
    }

    .logo {
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 14px 0 6px;
    }

    .logo img{
      height:72px;
      width:auto;
      display:block;
      object-fit:contain;
      filter: drop-shadow(0 2px 0 rgba(0,0,0,0.02));
    }

    nav.nav {
      display:flex;
      justify-content:center;
      gap: 28px;
      padding: 10px 12px 18px;
      font-weight:600;
      letter-spacing:0.02em;
    }

    nav.nav a {
      color: var(--primary);
      padding:8px 6px;
      border-radius:6px;
      position:relative;
    }

    nav.nav a:hover{
      color:var(--primary-2);
    }

    nav.nav a::after{
      content:'';
      height:3px;
      background:transparent;
      width:100%;
      position:absolute;
      left:0;
      bottom:-8px;
      border-radius:3px;
      transition:background .18s ease;
    }
    nav.nav a:hover::after{ background:var(--primary-2); }

    /* Mobile nav collapse (hamburger) */
    .mobile-toggle{
      display:none;
      position:absolute;
      right:16px;
      top:20px;
      background:var(--primary);
      color:#fff;
      border-radius:8px;
      padding:8px;
      border:none;
      cursor:pointer;
    }

    /* Hero */
    .hero{
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap:10px;
      padding: 32px 18px;
      margin-bottom: 18px;
      background: linear-gradient(180deg, rgba(11,104,49,0.03), rgba(255,255,255,0));
      border-radius: 12px;
    }

    .tagline{
      font-size: clamp(20px, 4vw, 28px);
      font-weight:700;
      color:var(--text);
    }

    .sub{
      max-width:720px;
      color:var(--muted);
    }

    .hero .cta-row{ display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:10px; }
    .btn {
      background:var(--primary);
      color:white;
      border:none;
      padding:10px 16px;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      box-shadow: var(--shadow);
      transition: transform .12s ease, background .12s ease;
    }
    .btn.secondary{
      background:transparent;
      color:var(--primary);
      border: 2px solid rgba(11,104,49,0.08);
    }
    .btn:hover{ transform: translateY(-3px); background: var(--primary-2); }

    /* Content sections */
    section {
      margin: 18px 0;
      padding: 18px;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: var(--shadow);
    }
    .section-title{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
    }
    .section-title h2{ margin:0; font-size:18px; letter-spacing:0.01em; color:var(--primary); }

    .grid {
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:18px;
      margin-top:12px;
    }

    /* Past projects cards */
    .project-card{
      padding:12px;
      border-radius:10px;
      background: linear-gradient(180deg,#ffffff,#fbfbfb);
      border:1px solid rgba(16,16,16,0.03);
    }
    .project-card img{
      width:100%;
      height:160px;
      object-fit:cover;
      border-radius:8px;
    }

    /* Testimonials */
    .testimonial {
      background: linear-gradient(180deg, rgba(11,104,49,0.03), rgba(255,255,255,0));
      padding:12px;
      border-radius:10px;
      font-style:italic;
      color:var(--muted);
    }

    /* Schedule Estimate form (inline) */
    form.field-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      margin-top:12px;
    }
    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    input[type="text"], input[type="email"], input[type="tel"], textarea, input[type="date"], input[type="time"]{
      padding:10px;
      border-radius:8px;
      border:1px solid rgba(16,16,16,0.08);
      font-size:15px;
    }
    textarea{ min-height:100px; resize:vertical; }

    /* Color Picker styles */
    .swatches{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px;
    }
    .swatch{
      width:64px;
      height:64px;
      border-radius:8px;
      border:1px solid rgba(0,0,0,0.06);
      cursor:pointer;
      box-shadow: 0 6px 14px rgba(11,104,49,0.06);
      display:flex;
      align-items:flex-end;
      justify-content:center;
      padding:6px;
      color:#fff;
      font-size:12px;
      font-weight:700;
      text-shadow: 0 1px 2px rgba(0,0,0,0.25);
    }
    .swatch small{ background: rgba(0,0,0,0.18); padding:2px 6px; border-radius:6px; }

    /* Floating Contact Button */
    .floating-contact{
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 120;
    }
    .floating-contact button{
      background: var(--primary);
      color:white;
      border:none;
      padding:14px 18px;
      border-radius: 999px;
      font-weight:800;
      box-shadow: 0 10px 30px rgba(10,10,10,0.12);
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .floating-contact button .icon{
      width:22px;height:22px;
      background:white;
      border-radius:6px;
      display:inline-block;
    }

    /* Modal */
    .modal-backdrop{
      position: fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,0.36);
      z-index: 200;
      padding: 20px;
    }
    .modal{
      width:100%;
      max-width:520px;
      background:#fff;
      border-radius:12px;
      padding:18px;
      box-shadow: 0 20px 50px rgba(0,0,0,0.25);
    }
    .modal h3{ margin-top:0; color:var(--primary) }
    .modal .close{
      position:absolute;
      right:22px;
      top:22px;
      background:transparent;
      border:none;
      font-size:18px;
      cursor:pointer;
      color:var(--muted);
    }

    /* Footer */
    footer{
      margin-top:22px;
      text-align:center;
      color:var(--muted);
      font-size:14px;
    }

    /* Responsive */
    @media (max-width:900px){
      .grid{ grid-template-columns:1fr; }
      header{ padding-bottom:8px; }
      .logo img{ height:62px; }
      nav.nav{ gap:16px; font-size:15px; padding-bottom:12px; }
      .hero{ padding:22px 14px; }
    }
    @media (max-width:520px){
      .logo img{ height:54px; }
      nav.nav{ display:none; } /* collapsed on small screens - mobile toggle provided */
      .mobile-toggle{ display:block; }
      .hero .tagline{ font-size:20px; }
      form.field-grid{ grid-template-columns:1fr; }
      .modal{ padding:14px; }
    }
  </style>
</head>
<body>

  <header>
    <div class="site" style="position:relative;">
      <button class="mobile-toggle" aria-expanded="false" aria-controls="mobileMenu">☰</button>
      <div class="logo">
        <!-- Replace the src path with your logo location (images/logo.png) -->
        <img src="images/logo.png" alt="New Leaf Painting Co. logo" id="site-logo" />
      </div>

      <nav class="nav" id="desktopNav" role="navigation" aria-label="Primary">
        <a href="#home" data-scroll>Home</a>
        <a href="#projects" data-scroll>Past Projects</a>
        <a href="#estimate" data-scroll>Schedule Estimate</a>
        <a href="#colorpicker" data-scroll>Color Picker</a>
      </nav>

      <!-- Mobile nav (revealed on small screens) -->
      <div id="mobileMenu" style="display:none; margin-top:8px; text-align:center;">
        <nav role="navigation" aria-label="Mobile Primary">
          <a href="#home" data-scroll style="display:block;padding:10px 0">Home</a>
          <a href="#projects" data-scroll style="display:block;padding:10px 0">Past Projects</a>
          <a href="#estimate" data-scroll style="display:block;padding:10px 0">Schedule Estimate</a>
          <a href="#colorpicker" data-scroll style="display:block;padding:10px 0">Color Picker</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="site" id="home">
    <!-- Hero -->
    <section class="hero" aria-labelledby="hero-heading">
      <h1 id="hero-heading" class="tagline">Turning Over a Fresh Coat — One Room at a Time.</h1>
      <p class="sub">New Leaf Painting Co. delivers professional interior painting with the craftsmanship and care your home deserves. We protect your space, communicate clearly, and leave every room better than we found it.</p>
      <div class="cta-row">
        <button class="btn" id="scheduleBtn">Schedule a Free Estimate</button>
        <a href="#projects" data-scroll class="btn secondary">See Past Projects</a>
      </div>
    </section>

    <!-- About / Why Choose Us -->
    <section aria-labelledby="about-heading">
      <div class="section-title">
        <h2 id="about-heading">Why Choose New Leaf Painting Co.</h2>
      </div>

      <div style="margin-top:12px; display:flex; gap:18px; align-items:flex-start; flex-wrap:wrap;">
        <div style="flex:1; min-width:260px;">
          <p><strong>Professional quality, transparent pricing.</strong> We use proven techniques, premium materials, and paint options that last. Our estimates are straightforward with no surprises.</p>

          <ul style="margin-top:8px; color:var(--muted)">
            <li>On-time arrival and courteous, uniformed crews</li>
            <li>Full surface preparation — sanding, patching, priming</li>
            <li>Protection of floors and furniture; meticulous cleanup</li>
            <li>Color consultation and sample testing</li>
            <li>Warranty on workmanship</li>
          </ul>
        </div>

        <div style="flex:1; min-width:260px;">
          <p><strong>We treat your home like ours.</strong> That means respectful service, clear communication, and a final walkthrough so you’re thrilled with the result — every time.</p>
          <div style="margin-top:10px;">
            <div class="testimonial">
              “They made the process easy from start to finish. The rooms look incredible — and they were so tidy.”<br><strong style="color:var(--primary)">— Jennifer L., Portland, ME</strong>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Services snapshot -->
    <section aria-labelledby="services-heading">
      <div class="section-title">
        <h2 id="services-heading">Services</h2>
      </div>

      <div class="grid" style="margin-top:12px;">
        <div>
          <h3 style="margin:0 0 8px 0;">Interior Wall Painting</h3>
          <p class="muted" style="color:var(--muted)">Comprehensive painting for living rooms, bedrooms, hallways — with expert prep and an even, durable finish.</p>
        </div>
        <div>
          <h3 style="margin:0 0 8px 0;">Trim, Doors & Ceilings</h3>
          <p class="muted" style="color:var(--muted)">Crisp lines, careful edging, and consistent sheen across all surfaces.</p>
        </div>

        <div>
          <h3 style="margin:0 0 8px 0;">Accent Walls & Color Matching</h3>
          <p class="muted" style="color:var(--muted)">Custom accent walls, precise color matching, and small-area transformations.</p>
        </div>

        <div>
          <h3 style="margin:0 0 8px 0;">Eco-friendly Options</h3>
          <p class="muted" style="color:var(--muted)">Low-VOC and eco-friendly paint options available on request.</p>
        </div>
      </div>
    </section>

    <!-- Past Projects -->
    <section id="projects" aria-labelledby="projects-heading">
      <div class="section-title">
        <h2 id="projects-heading">Past Projects</h2>
      </div>

      <div class="grid" style="margin-top:12px;">
        <!-- Placeholder project cards - replace images and text with real portfolio entries -->
        <div class="project-card">
          <img src="images/project-1.jpg" alt="Living room painted by New Leaf Painting Co. (placeholder)" />
          <h4 style="margin:8px 0 6px 0;">Cozy Living Room Refresh</h4>
          <p style="margin:0;color:var(--muted)">Full interior repaint, new trim color, and accent wall for depth.</p>
        </div>

        <div class="project-card">
          <img src="images/project-2.jpg" alt="Kitchen painted by New Leaf Painting Co. (placeholder)" />
          <h4 style="margin:8px 0 6px 0;">Kitchen & Dining Touch Up</h4>
          <p style="margin:0;color:var(--muted)">Cabinet trim painting and wall refresh — minimal disruption, big impact.</p>
        </div>

        <div class="project-card">
          <img src="images/project-3.jpg" alt="Bedroom painted by New Leaf Painting Co. (placeholder)" />
          <h4 style="margin:8px 0 6px 0;">Master Bedroom Makeover</h4>
          <p style="margin:0;color:var(--muted)">Matte finish, softened palette, and precision edge work.</p>
        </div>

        <div class="project-card">
          <img src="images/project-4.jpg" alt="Trim and doors painted by New Leaf Painting Co. (placeholder)" />
          <h4 style="margin:8px 0 6px 0;">Door & Trim Revitalize</h4>
          <p style="margin:0;color:var(--muted)">High-gloss trim for a fresh, clean look.</p>
        </div>
      </div>
      <p style="margin-top:12px;color:var(--muted);">Replace the placeholder images above with your real project photos (recommended size 1600×900 px or similar).</p>
    </section>

    <!-- Schedule Estimate -->
    <section id="estimate" aria-labelledby="estimate-heading">
      <div class="section-title">
        <h2 id="estimate-heading">Schedule an Estimate</h2>
      </div>

      <p style="margin-top:10px;color:var(--muted)">Fill out the estimate request below and we’ll get back to you within 1 business day to confirm a convenient time for a free, no-obligation visit.</p>

      <form id="estimateForm" class="field-grid" style="margin-top:12px;">
        <div class="field">
          <label for="name">Full Name</label>
          <input type="text" id="name" name="name" placeholder="Jane Doe" required />
        </div>
        <div class="field">
          <label for="phone">Phone</label>
          <input type="tel" id="phone" name="phone" placeholder="(555) 555-5555" required />
        </div>

        <div class="field">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" placeholder="you@example.com" required />
        </div>
        <div class="field">
          <label for="address">Address (City, State)</label>
          <input type="text" id="address" name="address" placeholder="Portland, ME" required />
        </div>

        <div class="field">
          <label for="date">Preferred Date</label>
          <input type="date" id="date" name="date" />
        </div>
        <div class="field">
          <label for="time">Preferred Time</label>
          <input type="time" id="time" name="time" />
        </div>

        <div class="field" style="grid-column:1/ -1;">
          <label for="details">Project Details</label>
          <textarea id="details" name="details" placeholder="Tell us what you'd like painted (approx. square footage, number of rooms, any special instructions)"></textarea>
        </div>

        <div style="grid-column:1/ -1; display:flex; gap:12px; justify-content:flex-end;">
          <button type="submit" class="btn">Request Estimate</button>
          <button type="reset" class="btn secondary">Reset</button>
        </div>
      </form>
      <div id="estimateMessage" style="display:none;margin-top:12px;padding:12px;border-radius:8px;background:rgba(10,120,60,0.06);color:var(--primary);font-weight:700;"></div>
    </section>

    <!-- Color Picker -->
    <section id="colorpicker" aria-labelledby="color-heading">
      <div class="section-title">
        <h2 id="color-heading">Color Picker</h2>
      </div>

      <p style="margin-top:10px;color:var(--muted)">Explore popular paint colors and test them against sample room backgrounds. Tap a swatch to copy its hex code, or enter your own.</p>

      <div style="margin-top:12px;">
        <div class="swatches" id="swatches">
          <!-- Default swatches (replace or expand) -->
          <div class="swatch" data-hex="#FFFFFF" style="background:#FFFFFF;color:#111;border:1px solid rgba(0,0,0,0.06)"><small>#FFFFFF</small></div>
          <div class="swatch" data-hex="#F8F8F8" style="background:#F8F8F8;color:#111"><small>#F8F8F8</small></div>
          <div class="swatch" data-hex="#F2EBE3" style="background:#F2EBE3;color:#111"><small>#F2EBE3</small></div>
          <div class="swatch" data-hex="#E8EDE6" style="background:#E8EDE6;color:#111"><small>#E8EDE6</small></div>

          <div class="swatch" data-hex="#D7EDE2" style="background:#D7EDE2"><small>#D7EDE2</small></div>
          <div class="swatch" data-hex="#CDE9D6" style="background:#CDE9D6"><small>#CDE9D6</small></div>
          <div class="swatch" data-hex="#A8D5B2" style="background:#A8D5B2"><small>#A8D5B2</small></div>
          <div class="swatch" data-hex="#8BC397" style="background:#8BC397"><small>#8BC397</small></div>

          <div class="swatch" data-hex="#6EAF6F" style="background:#6EAF6F"><small>#6EAF6F</small></div>
          <div class="swatch" data-hex="#4B8C50" style="background:#4B8C50"><small>#4B8C50</small></div>
          <div class="swatch" data-hex="#2F6E3D" style="background:#2F6E3D"><small>#2F6E3D</small></div>
          <div class="swatch" data-hex="#0B6831" style="background:#0B6831"><small>#0B6831</small></div>
        </div>

        <div style="margin-top:12px; display:flex; gap:12px; align-items:center; flex-wrap:wrap;">
          <label for="customColor" style="font-weight:700; color:var(--muted)">Custom:</label>
          <input id="customColor" type="color" value="#0B6831" style="width:64px;height:44px;border:none;padding:0;background:transparent;cursor:pointer;" />
          <input id="customHex" type="text" value="#0B6831" style="padding:8px;border-radius:8px;border:1px solid rgba(0,0,0,0.06)" />
          <button id="applyColor" class="btn secondary">Preview</button>
        </div>

        <div id="colorPreview" style="margin-top:14px;border-radius:12px;padding:16px;background:#fff;border:1px solid rgba(0,0,0,0.04);">
          <div style="display:flex;gap:12px;align-items:center;">
            <div id="roomMock" style="width:140px;height:100px;border-radius:8px;border:1px solid rgba(0,0,0,0.04);"></div>
            <div>
              <div style="font-weight:700">Sample Wall</div>
              <div style="color:var(--muted)">Hex: <span id="previewHex">#0B6831</span></div>
            </div>
          </div>
        </div>

        <p style="margin-top:10px;color:var(--muted)"><em>Tip:</em> Use the color picker to narrow down tones. For large projects we recommend testing paint samples in the room at different times of day.</p>
      </div>
    </section>

    <footer>
      <div style="display:flex;align-items:center;justify-content:center;gap:12px;">
        <img src="images/logo.png" alt="New Leaf small logo" style="height:36px;object-fit:contain;opacity:0.9" />
      </div>
      <div style="margin-top:8px;">&copy; <span id="year"></span> New Leaf Painting Co. • All rights reserved.</div>
      <div style="margin-top:6px;color:var(--muted)">Site by Curiosity Drop (optional)</div>
    </footer>
  </main>

  <!-- Floating Contact -->
  <div class="floating-contact" aria-hidden="false">
    <button id="openContact" aria-haspopup="dialog" aria-controls="contactModal">
      <span class="icon" aria-hidden="true"></span>
      Contact Us
    </button>
  </div>

  <!-- Modal -->
  <div class="modal-backdrop" id="modalBackdrop" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="modal" role="document" aria-labelledby="modalTitle">
      <button class="close" id="modalClose" aria-label="Close">✕</button>
      <h3 id="modalTitle">Contact New Leaf Painting Co.</h3>
      <p style="color:var(--muted)">Send us your info and a short message — we'll reply within 1 business day.</p>

      <form id="contactForm" style="margin-top:12px;">
        <div class="field">
          <label for="cname">Full Name</label>
          <input id="cname" name="cname" type="text" required />
        </div>
        <div class="field" style="margin-top:8px;">
          <label for="cemail">Email</label>
          <input id="cemail" name="cemail" type="email" required />
        </div>
        <div class="field" style="margin-top:8px;">
          <label for="cphone">Phone</label>
          <input id="cphone" name="cphone" type="tel" />
        </div>
        <div class="field" style="margin-top:8px;">
          <label for="cmessage">Message</label>
          <textarea id="cmessage" name="cmessage" required></textarea>
        </div>

        <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-end;">
          <button type="button" class="btn secondary" id="modalCancel">Cancel</button>
          <button type="submit" class="btn">Send Message</button>
        </div>
      </form>

      <div id="modalThanks" style="display:none;margin-top:12px;padding:12px;border-radius:8px;background:rgba(11,104,49,0.06);color:var(--primary);font-weight:700;">
        Thanks! Your message was received. We'll contact you shortly.
      </div>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    (function(){
      // Basic helpers
      const $ = (sel,ctx=document)=>ctx.querySelector(sel);
      const $$ = (sel,ctx=document)=>Array.from(ctx.querySelectorAll(sel));

      // Set copyright year
      document.getElementById('year').textContent = new Date().getFullYear();

      // Smooth scroll for anchors with data-scroll
      document.querySelectorAll('a[data-scroll], button[data-scroll]').forEach(el=>{
        el.addEventListener('click', function(e){
          const href = el.getAttribute('href');
          if(href && href.startsWith('#')){
            e.preventDefault();
            const target = document.querySelector(href);
            if(target){
              target.scrollIntoView({behavior:'smooth', block:'start'});
            }
            // collapse mobile menu if open
            if(window.innerWidth <= 520) toggleMobileMenu(false);
          }
        });
      });

      // Mobile menu toggle
      const mobileToggle = document.querySelector('.mobile-toggle');
      const mobileMenu = document.getElementById('mobileMenu');
      if(mobileToggle){
        mobileToggle.addEventListener('click', ()=>{
          const expanded = mobileToggle.getAttribute('aria-expanded') === 'true';
          toggleMobileMenu(!expanded);
        });
      }
      function toggleMobileMenu(show){
        if(show){
          mobileMenu.style.display = 'block';
          mobileToggle.setAttribute('aria-expanded','true');
        } else {
          mobileMenu.style.display = 'none';
          mobileToggle.setAttribute('aria-expanded','false');
        }
      }
      // Close menu on resize to large screens
      window.addEventListener('resize', ()=> {
        if(window.innerWidth > 520){
          mobileMenu.style.display = 'none';
          if(mobileToggle) mobileToggle.setAttribute('aria-expanded','false');
        }
      });

      // Modal logic
      const openContact = document.getElementById('openContact');
      const backdrop = document.getElementById('modalBackdrop');
      const modalClose = document.getElementById('modalClose');
      const modalCancel = document.getElementById('modalCancel');
      const contactForm = document.getElementById('contactForm');
      const modalThanks = document.getElementById('modalThanks');

      function openModal(){
        backdrop.style.display = 'flex';
        backdrop.setAttribute('aria-hidden','false');
        // trap focus (simple)
        setTimeout(()=> document.getElementById('cname').focus(), 80);
      }
      function closeModal(){
        backdrop.style.display = 'none';
        backdrop.setAttribute('aria-hidden','true');
        contactForm.style.display = 'block';
        modalThanks.style.display = 'none';
        contactForm.reset();
      }

      openContact.addEventListener('click', openModal);
      modalClose.addEventListener('click', closeModal);
      modalCancel.addEventListener('click', closeModal);
      backdrop.addEventListener('click', function(e){
        if(e.target === backdrop) closeModal();
      });

      // Contact form submit (client-only demo - replace with real endpoint)
      contactForm.addEventListener('submit', function(e){
        e.preventDefault();
        // Simple validation
        const name = $('#cname').value.trim();
        const email = $('#cemail').value.trim();
        const message = $('#cmessage').value.trim();
        if(!name || !email || !message){
          alert('Please complete the required fields.');
          return;
        }

        // Simulate sending
        contactForm.style.display = 'none';
        modalThanks.style.display = 'block';

        // Here: hook up to your email endpoint, Zapier, Formspree, or your server.
        // Example: fetch('/api/contact', {method:'POST',body:JSON.stringify({name,email,message})})
        // For now we just show success and auto-close after 2.5s
        setTimeout(()=>{
          closeModal();
          alert('Thanks — we will follow up shortly.');
        }, 1800);
      });

      // Estimate form submit (client-only demo)
      const estimateForm = document.getElementById('estimateForm');
      const estimateMessage = document.getElementById('estimateMessage');
      estimateForm.addEventListener('submit', function(e){
        e.preventDefault();
        // Collect minimal validation
        const name = document.getElementById('name').value.trim();
        const phone = document.getElementById('phone').value.trim();
        const email = document.getElementById('email').value.trim();
        if(!name || !phone || !email){
          alert('Please complete name, phone, and email.');
          return;
        }
        // Simulate success
        estimateMessage.textContent = 'Estimate request submitted. We will contact you within 1 business day to schedule a visit.';
        estimateMessage.style.display = 'block';
        estimateForm.reset();

        // In production: send to /api/estimate or email provider
      });

      // Schedule button opens Estimate section (smooth)
      document.getElementById('scheduleBtn').addEventListener('click', function(){
        document.querySelector('#estimate').scrollIntoView({behavior:'smooth'});
      });

      // Color Picker interactions
      const swatches = document.getElementById('swatches');
      const roomMock = document.getElementById('roomMock');
      const previewHex = document.getElementById('previewHex');
      const customColor = document.getElementById('customColor');
      const customHex = document.getElementById('customHex');
      const applyColor = document.getElementById('applyColor');

      function setPreview(hex){
        roomMock.style.background = hex;
        previewHex.textContent = hex.toUpperCase();
        customHex.value = hex.toUpperCase();
        customColor.value = hex;
      }

      // initialize preview
      setPreview('#0B6831');

      swatches.querySelectorAll('.swatch').forEach(s=>{
        s.addEventListener('click', ()=>{
          const hex = s.getAttribute('data-hex') || '#FFFFFF';
          setPreview(hex);
          // copy hex to clipboard
          navigator.clipboard && navigator.clipboard.writeText(hex).then(()=> {
            // brief highlight or notification (tiny)
            s.style.transform = 'scale(0.98)';
            setTimeout(()=> s.style.transform = '', 160);
          }, ()=>{ /* ignore failure */});
        });
      });

      // custom color change
      customColor.addEventListener('input', ()=> {
        const v = customColor.value;
        setPreview(v);
      });
      customHex.addEventListener('change', ()=> {
        let v = customHex.value.trim();
        if(!v.startsWith('#')) v = '#'+v;
        // basic hex validation
        if(/^#([0-9A-F]{3}){1,2}$/i.test(v)){
          setPreview(v);
        } else {
          alert('Enter a valid hex color like #F2EAE1 or #0B6831');
        }
      });
      applyColor.addEventListener('click', ()=> {
        const v = customHex.value.trim();
        if(!v.startsWith('#')) {
          alert('Please enter a hex color (e.g. #0B6831), or choose a color using the picker.');
          return;
        }
        setPreview(v);
      });

      // Accessibility: escape to close modal
      document.addEventListener('keydown', (e)=>{
        if(e.key === 'Escape'){
          if(backdrop.style.display === 'flex') closeModal();
        }
      });

      // Graceful fallback if images missing (replace with placeholders)
      document.querySelectorAll('img').forEach(img=>{
        img.addEventListener('error', function(){
          // collapse broken images to an accessible placeholder
          img.style.opacity = 0.07;
          img.style.filter = 'grayscale(1)';
          img.alt += ' (image missing - replace images/* with your photos)';
        });
      });

    })();
  </script>
</body>
</html>
