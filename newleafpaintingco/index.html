<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>New Leaf Painting Co.</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="logo-container">
      <img src="7D16A71A-2AF9-4EBB-863A-09C24D4F6662.png" alt="New Leaf Painting Co. logo" class="logo" />
    </div>

    <nav>
      <ul class="nav-links">
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="past-projects.html">Past Projects</a></li>
        <li><a href="local-partners.html">Local Partners</a></li>
        <li><a href="#">Schedule Estimate</a></li>
      </ul>
    </nav>
  </header>

  <!-- HERO SECTION -->
  <section class="hero">
    <h1>Turn over a New Leaf ‚Äî With a fresh new coat, one room at a time.</h1>
    <p>Professional interior painting built on trust, quality, and care.</p>
    <a href="#" class="cta-button">Schedule a Free Estimate</a>
  </section>

  <!-- ABOUT SECTION -->
  <section class="about">
    <h2>Why Choose New Leaf Painting Co.</h2>
    <p>New Leaf Painting Co. isn‚Äôt just another painting service ‚Äî we‚Äôre dedicated to giving your home the attention and renewal it deserves. Every brush stroke matters because your space deserves more than a quick coat; it deserves craftsmanship, precision, and pride.</p>

    <ul>
      <li><strong>Professional quality</strong> at fair, transparent prices</li>
      <li><strong>Respect for your home</strong> ‚Äî we show up on time, protect your space, and clean up fully</li>
      <li><strong>Attention to detail</strong> that transforms a room, not just paints it</li>
      <li><strong>A smooth process</strong> from estimate to final walkthrough</li>
    </ul>
  </section>

  <!-- SERVICES -->
  <section class="services">
    <h2>Our Services</h2>
    <ul>
      <li>Interior wall painting</li>
      <li>Trim, doors, and ceilings</li>
      <li>Accent walls & color matching</li>
      <li>Cabinet refinishing</li>
      <li>Eco-friendly paint options</li>
    </ul>
  </section>

  <!-- TESTIMONIAL -->
  <section class="testimonial">
    <blockquote>
      ‚ÄúThey made the process easy from start to finish. The rooms look incredible!‚Äù
    </blockquote>
    <p>‚Äî Scott L., Buxton, ME</p>
  </section>

  <!-- CONTACT FLOATING BUTTON -->
  <button id="contact-btn">Get free estimate</button>

  <!-- CONTACT POPUP -->
  <div id="contact-popup" class="popup">
    <div class="popup-content">
      <span class="close">&times;</span>
      <h2>Get free estimate</h2>
      <form>
        <label for="name">Name:</label>
        <input type="text" id="name" required>

        <label for="email">Email:</label>
        <input type="email" id="email" required>

        <label for="phone">Phone:</label>
        <input type="tel" id="phone">

        <label for="message">Message:</label>
        <textarea id="message" rows="4"></textarea>

        <input type="hidden" name="discount_code" id="discount-code" value="">

        <button type="submit">Send</button>
      </form>
    </div>
  </div>

  <!-- ABOUT OWNER -->
  <section class="about-owner">
    <h2>About the Owner</h2>
    <p>
      With over <strong>15 years of professional painting experience</strong>, 
      New Leaf Painting Co. was built on a foundation of craftsmanship, reliability, 
      and pride in every project. From family homes to full interior makeovers, 
      we believe every wall deserves a fresh start ‚Äî one coat and one room at a time.
    </p>
  </section>

  <!-- SERVICE AREA -->
  <section class="service-area">
    <h2>Service Area</h2>
    <p>
      Proudly serving <strong>Southern Maine</strong> and the surrounding areas, 
      including towns within a <strong>50-mile radius of Dayton, ME</strong>.
    </p>
  </section>

  <!-- FOOTER -->
  <footer>
    <img src="7D16A71A-2AF9-4EBB-863A-09C24D4F6662.png" alt="New Leaf Painting Co." class="footer-logo" />
    <p>&copy; 2025 New Leaf Painting Co. | All Rights Reserved</p>
  </footer>

  <!-- JS SCRIPTS -->
  <script>
// Popup functionality
const popup = document.getElementById("contact-popup");
const btn = document.getElementById("contact-btn");
const close = document.querySelector(".close");

btn.onclick = () => popup.style.display = "flex";
close.onclick = () => popup.style.display = "none";
window.onclick = e => { if (e.target === popup) popup.style.display = "none"; };

// URL parameter parsing
const urlParams = new URLSearchParams(window.location.search);
const isDropVisitor = urlParams.get('drop') === '1';
const isSampleVisitor = urlParams.get('sample') === '1';
const referrer = urlParams.get('ref'); // optional referral info

// Function to create banner
function createBanner(message) {
  const banner = document.createElement('div');
  banner.id = "drop-banner";
  banner.textContent = message;
  banner.style.backgroundColor = "#4CAF50";
  banner.style.color = "#fff";
  banner.style.textAlign = "center";
  banner.style.padding = "10px";
  banner.style.fontWeight = "bold";
  banner.style.position = "fixed";
  banner.style.top = "0";
  banner.style.left = "0";
  banner.style.width = "100%";
  banner.style.zIndex = "200";
  document.body.prepend(banner);
}

// Function to create floating redeem button
function createRedeemButton(text) {
  const redeemBtn = document.createElement('button');
  redeemBtn.id = "redeem-reward";
  redeemBtn.textContent = text;
  redeemBtn.style.position = "fixed";
  redeemBtn.style.bottom = "20px";
  redeemBtn.style.right = "20px";
  redeemBtn.style.zIndex = "200";
  redeemBtn.style.padding = "10px 20px";
  redeemBtn.style.borderRadius = "8px";
  redeemBtn.style.backgroundColor = "#4CAF50";
  redeemBtn.style.color = "#fff";
  redeemBtn.style.border = "none";
  redeemBtn.style.cursor = "pointer";
  document.body.appendChild(redeemBtn);

  redeemBtn.addEventListener('click', () => {
    popup.style.display = "flex"; // open contact popup
    const discountField = document.getElementById('discount-code');
    if (discountField) discountField.value = isDropVisitor ? 'DROP10' : 'SAMPLE5';
    
    // Add referrer hidden field
    if (referrer) {
      let refField = document.getElementById('referrer');
      if (!refField) {
        refField = document.createElement('input');
        refField.type = 'hidden';
        refField.name = 'referrer';
        refField.id = 'referrer';
        document.querySelector('#contact-popup form').appendChild(refField);
      }
      refField.value = referrer;
    }
  });
}

// Update popup heading dynamically
const popupHeading = document.querySelector('#contact-popup h2');
if (popupHeading) {
  if (isDropVisitor) popupHeading.textContent = "Redeem 10% Drop Reward";
  else if (isSampleVisitor) popupHeading.textContent = "Redeem 5% Sample Discount";
}

// If visitor came via drop or sample, show banner and redeem button
if (isDropVisitor || isSampleVisitor) {
  // Hide normal floating button
  if (btn) btn.style.display = 'none';

  // Banner
  createBanner(isDropVisitor 
    ? "üéâ Welcome, Curiosity Drop visitor! Click 'Redeem Reward' for 10% off!" 
    : "üéâ Welcome! You were referred via a Sample Card ‚Äî enjoy 5% off!");

  // Floating redeem button
  createRedeemButton(isDropVisitor 
    ? "Redeem Your 10% Drop Reward" 
    : "Redeem Your 5% Sample Reward");
}

// Optional: mailto-based form submission
const form = document.querySelector('#contact-popup form');
form.addEventListener('submit', e => {
  e.preventDefault(); // prevent default submit
  const name = document.getElementById('name').value;
  const email = document.getElementById('email').value;
  const phone = document.getElementById('phone').value;
  const message = document.getElementById('message').value;
  const discount = document.getElementById('discount-code').value;
  const ref = referrer || '';

  // Build mailto
  const subject = encodeURIComponent("New Leaf Painting Inquiry");
  const body = encodeURIComponent(
    `Name: ${name}\nEmail: ${email}\nPhone: ${phone}\nMessage: ${message}\nDiscount Code: ${discount}\nReferrer: ${ref}`
  );
  window.location.href = `mailto:newleafpaintingcompany@gmail.com?subject=${subject}&body=${body}`;
});
</script>
</body>
</html>
